<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oh-Kasyon</title>
  <link type="text/css" rel="stylesheet" href="../css/admin.css" />
  <link href="//cdn.jsdelivr.net/npm/@sweetalert2/theme-material-ui/material-ui.css" rel="stylesheet">
  <link rel="shortcut icon" href="../img/logo.png" type="image/x-icon">
</head>

<body>
  <div class="container">
    <div class="navigation active">
      <ul>
        <li>
          <a href="home.html">
            <span class="icon"><img src="../img/logo.png"></span>
            <span class="title">
              <h2>Oh-Kasyon Admin</h2>
            </span>
          </a>
        </li>
        <li class="active">
          <a href="businesses.html">
            <span class="icon"><i class="fas fa-building"></i></span>
            <span class="title">Businesses</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><i class="fas fa-comments"></i></span>
            <span class="title">Messages</span>
          </a>
        </li>
        <li>
          <a href="reservations.html">
            <span class="icon"><i class="fas fa-clipboard"></i></span>
            <span class="title">Reservations</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><i class="fas fa-exclamation-triangle"></i></span>
            <span class="title">User Reports</span>
          </a>
        </li>
        <li>
          <a href="users.html">
            <span class="icon"><i class="fas fa-users"></i></span>
            <span class="title">Users</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="showSettings()">
            <span class="icon"><i class="fas fa-cog"></i></span>
            <span class="title">Account Settings</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="logout();">
            <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
            <span class="title">Sign Out</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="main active">
      <div class="topbar">
        <div class="toggle active" onclick="toggleMenu();"></div>
        <div class="topbar-title">
          <h3>Businesses</h3>
        </div>
      </div>
      <div class="details">
        <div class="businesses">
          <div class="cardHeader">
            <ul>
              <li>
                <div id="create-form" class="btn">Create New</div>
              </li>
              <li>
                <div class="search">
                  <label>
                    <input id="business_search" type="text" placeholder="Search by name">
                  </label>
                </div>
              </li>
              <li>
                <div class="btn" onclick='searchBusiness(document.getElementById("business_search").value)'>Search</div>
              </li>
              <li>
                <div class="btn" onclick='showAll()'>Show All</div>
              </li>
            </ul>
          </div>
          <table class="table-businesses">
            <thead>
              <tr>
                <td>Business Name</td>
                <td>Business Owner</td>
                <td>Address</td>
                <td>Mobile #</td>
                <td>Telephone #</td>
                <td>Email</td>
                <td>Status</td>
                <td>Actions</td>
              </tr>
            </thead>
            <tbody class="table-business-body">
              <!-- JS code setupBusinesses(); -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="newBusinessModal" class="modal">
      <div class="modal-content">
        <form id="new_business_modal">
          <span class="close">&times;</span>
          <h1>Create New Business</h1><br />

          <h2>General Info</h2><br />
          <label for="business_name">Business Name</label>
          <input type="text" id="business_name" name="businessname" placeholder="Enter Business Name..." required>

          <label for="owner_name">Business Owner Name</label>
          <input type="text" id="owner_name" name="ownername" placeholder="Enter Business Owner Name..." required>

          <label for="address">Address</label>
          <textarea id="address" name="address" placeholder="Write something..." style="height:100px" required></textarea>

          <label for="maxCapacity">Max Capacity</label>
          <input type="text" id="maxCapacity" name="maxcapacity" placeholder="Enter Max Capacity..." required>

          <label for="mobile_no">Mobile #</label>
          <input type="text" id="mobile_no" name="mobileno" placeholder="Enter Mobile Number..." required>

          <label for="tel_no">Telephone #</label>
          <input type="text" id="tel_no" name="telno" placeholder="Enter Telephone Number..." required>


          <h2>Account</h2><br />
          <label for="email">Email</label>
          <input type="text" id="email" name="email" placeholder="Enter Email..." required>

          <label for="password">Password for Business Owner's Account</label>
          <input type="password" id="password" name="password" placeholder="Enter Password..." required>

          <label for="repeatPassword">Confirm Password</label>
          <input type="password" id="repeatPassword" name="repeatpassword" placeholder="Please Repeat the Password..."
            required>

          <h2>Business Location</h2><br />
          <label for="latitude">Latitude</label>
          <input type="text" id="latitude" name="latitude" placeholder="Please Enter the Exact Latitude...">

          <label for="longitude">Longitude</label>
          <input type="text" id="longitude" name="longitude" placeholder="Please Enter the Exact Longitude...">

          <h2>Images</h2><br/>
          <label for="business_img">Image of Business from the outside</label>
          <input type="file" id="business_img" name="businessimg" accept="image/*">
          <img id="normalImage" class="normalImage" src="#">
          <br>

          <label for="business_360_img">360 Image</label>
          <input type="file" id="business_360_img" name="business360img" accept="image/*">
          <img id="img360" class="img360" src="#">

          <label for="myProgress" id="progress_label">Task</label>
          <div id="myProgress">
            <div id="myBar"></div>
          </div>
          <div id="progress">100%</div>

          <!-- <div class="btn" onclick="testFunction()">DEBUG: Upload</div> -->

          <!-- <label for="option">Test Option</label>
          <select id="option" name="option">
            <option value="test1">test1</option>
            <option value="test2">test2</option>
            <option value="test3">test3</option>
          </select> -->

          <div id="create_button" class="btn" onclick="createNewBusiness();">Create</div>
        </form>
      </div>
    </div>

    <div id="confirmDeleteModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h1>Caution!</h1><br />
        <h3 class="label">Are you sure you want to delete this Business?</h3>

        <div class="buttonGroup">
          <div class="cancelbtn" onclick="closeModal2()">Cancel</div>
          <div id="deletebtn" class="deletebtn" onclick="deleteBusiness($(this).attr('class').split(' ').pop())">Delete
          </div>
        </div>

      </div>
    </div>

  </div>

  <!-- Scripts needed on all html files! -->
  <script src="https://kit.fontawesome.com/c3fb6ad087.js" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-storage.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
  <script src="../js/firebase.js"> </script>
  <script src="../js/admin/logout.js"> </script>
  <script src="../js/admin/admin.js"> </script>
  <script src="../js/admin/businesses.js"> </script>
</body>

</html>